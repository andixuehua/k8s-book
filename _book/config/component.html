
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>核心服务组件 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="network.html" />
    
    
    <link rel="prev" href="api.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Docker
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../docker/basic.html">
            
                <a href="../docker/basic.html">
            
                    
                    常用命令
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../docker/config.html">
            
                <a href="../docker/config.html">
            
                    
                    配置文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../docker/dockerfile.html">
            
                <a href="../docker/dockerfile.html">
            
                    
                    Dockerfile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../docker/registry.html">
            
                <a href="../docker/registry.html">
            
                    
                    Registry Server
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    cri-o
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../cri-o/cri-o.html">
            
                <a href="../cri-o/cri-o.html">
            
                    
                    cri-o
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../cri-o/crictl.html">
            
                <a href="../cri-o/crictl.html">
            
                    
                    crictl
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    查看安装配置及访问
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="kubeconfig.html">
            
                <a href="kubeconfig.html">
            
                    
                    kubeconfig
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../basic/kubectl.html">
            
                <a href="../basic/kubectl.html">
            
                    
                    kubectl
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="api.html">
            
                <a href="api.html">
            
                    
                    API
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.4" data-path="component.html">
            
                <a href="component.html">
            
                    
                    核心服务组件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="network.html">
            
                <a href="network.html">
            
                    
                    网络
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    基本配置
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../basic/label.html">
            
                <a href="../basic/label.html">
            
                    
                    label & annoation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../basic/namespace.html">
            
                <a href="../basic/namespace.html">
            
                    
                    namespace
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../basic/registry.html">
            
                <a href="../basic/registry.html">
            
                    
                    配置registry的访问
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" >
            
                <span>
            
                    
                    pod
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.4.1" data-path="../basic/pod.html">
            
                <a href="../basic/pod.html">
            
                    
                    pod
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.2" data-path="../basic/init-container.html">
            
                <a href="../basic/init-container.html">
            
                    
                    init-container
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.3" data-path="../basic/sidecar.html">
            
                <a href="../basic/sidecar.html">
            
                    
                    sidecar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.4" data-path="../basic/lifecycle.html">
            
                <a href="../basic/lifecycle.html">
            
                    
                    生命周期lifecycle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.5" data-path="../basic/health.html">
            
                <a href="../basic/health.html">
            
                    
                    health检查
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.5" >
            
                <span>
            
                    
                    controller
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.5.1" data-path="../basic/replicaset.html">
            
                <a href="../basic/replicaset.html">
            
                    
                    ReplicasSet
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2" data-path="../basic/deployment.html">
            
                <a href="../basic/deployment.html">
            
                    
                    deployment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.3" data-path="../basic/statefulset.html">
            
                <a href="../basic/statefulset.html">
            
                    
                    statefulset
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.4" data-path="../basic/daemonset.html">
            
                <a href="../basic/daemonset.html">
            
                    
                    daemonset
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.5" data-path="../basic/job.html">
            
                <a href="../basic/job.html">
            
                    
                    job & cronjob
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.6" >
            
                <span>
            
                    
                    配置挂载
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.6.1" data-path="../basic/configmap-1.html">
            
                <a href="../basic/configmap-1.html">
            
                    
                    挂载configmap文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.2" data-path="../basic/configmap-2.html">
            
                <a href="../basic/configmap-2.html">
            
                    
                    挂载secret
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.3" data-path="../pv/empty.html">
            
                <a href="../pv/empty.html">
            
                    
                    挂载空目录
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../basic/svc.html">
            
                <a href="../basic/svc.html">
            
                    
                    Service/svc
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    网络
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../network/dns.html">
            
                <a href="../network/dns.html">
            
                    
                    coreDNS/kubeDNS/pod DNS/DNS policy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../network/controller.html">
            
                <a href="../network/controller.html">
            
                    
                    ingress controller/class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../network/ingress.html">
            
                <a href="../network/ingress.html">
            
                    
                    应用ingress的建立
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../network/route.html">
            
                <a href="../network/route.html">
            
                    
                    ingress/会话保持
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../network/hostnetwork.html">
            
                <a href="../network/hostnetwork.html">
            
                    
                    hostnetwork部署
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    pod高级资源与调度
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../resource/label.html">
            
                <a href="../resource/label.html">
            
                    
                    按label调度
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../resource/node.html">
            
                <a href="../resource/node.html">
            
                    
                    按节点调度亲和性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../resource/taint.html">
            
                <a href="../resource/taint.html">
            
                    
                    污点与容忍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../resource/node.html">
            
                <a href="../resource/node.html">
            
                    
                    node管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../resource/limits.html">
            
                <a href="../resource/limits.html">
            
                    
                    limitrange
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../resource/quota.html">
            
                <a href="../resource/quota.html">
            
                    
                    配额
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="../basic/hpa.html">
            
                <a href="../basic/hpa.html">
            
                    
                    hpa
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="../basic/downwardapi.html">
            
                <a href="../basic/downwardapi.html">
            
                    
                    downwardapi
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    用户与权限
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../user/auth.html">
            
                <a href="../user/auth.html">
            
                    
                    身份认证Authenticating
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../user/user.html">
            
                <a href="../user/user.html">
            
                    
                    user/role/rolebinding
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../user/sa.html">
            
                <a href="../user/sa.html">
            
                    
                    serviceaccount
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../user/scc.html">
            
                <a href="../user/scc.html">
            
                    
                    security context
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../network/policy.html">
            
                <a href="../network/policy.html">
            
                    
                    networkpolicy
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    存储
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../pv/pvc.html">
            
                <a href="../pv/pvc.html">
            
                    
                    pvc/pv/storageclass/手工建立
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../pv/rwo.html">
            
                <a href="../pv/rwo.html">
            
                    
                    卷的挂载和读写模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../pv/pv-extend.html">
            
                <a href="../pv/pv-extend.html">
            
                    
                    卷的扩容
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../pv/claimpolicy.html">
            
                <a href="../pv/claimpolicy.html">
            
                    
                    卷数据的保留和复用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="../pv/statefulset.html">
            
                <a href="../pv/statefulset.html">
            
                    
                    statefulset的卷
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="../pv/deployment.html">
            
                <a href="../pv/deployment.html">
            
                    
                    demployment的卷
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="../pv/hostpath.html">
            
                <a href="../pv/hostpath.html">
            
                    
                    hostpath
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.8" data-path="../pv/mysql.html">
            
                <a href="../pv/mysql.html">
            
                    
                    mysql pv
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    监控
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../install/monitor.html">
            
                <a href="../install/monitor.html">
            
                    
                    集群的监控
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" >
            
                <span>
            
                    
                    应用的监控
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.1" data-path="../monitor/jvm.html">
            
                <a href="../monitor/jvm.html">
            
                    
                    JVM的监控
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.2" data-path="../monitor/mysql.html">
            
                <a href="../monitor/mysql.html">
            
                    
                    mySQL的监控
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../monitor/alert.html">
            
                <a href="../monitor/alert.html">
            
                    
                    自定义报警
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../monitor/prometheus.html">
            
                <a href="../monitor/prometheus.html">
            
                    
                    promethues指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" >
            
                <span>
            
                    
                    报警规则梳理
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    日志
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" >
            
                <span>
            
                    
                    收集
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1.1" data-path="../install/efk.html">
            
                <a href="../install/efk.html">
            
                    
                    EFK部署
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.1.2" data-path="../log/filebeat-sidecar.html">
            
                <a href="../log/filebeat-sidecar.html">
            
                    
                    filebeat sidecar
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" >
            
                <span>
            
                    
                    CI
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../jenkins/prelog.html">
            
                <a href="../jenkins/prelog.html">
            
                    
                    CICD规划
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" >
            
                <span>
            
                    
                    使用Jenkins
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.2.1" data-path="../jenkins/plan.html">
            
                <a href="../jenkins/plan.html">
            
                    
                    规划
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2.2" data-path="../jenkins/install.html">
            
                <a href="../jenkins/install.html">
            
                    
                    安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2.3" data-path="../jenkins/plugin.html">
            
                <a href="../jenkins/plugin.html">
            
                    
                    配置jenkins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2.4" data-path="../jenkins/job.html">
            
                <a href="../jenkins/job.html">
            
                    
                    job构建示例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2.5" data-path="../jenkins/basic.html">
            
                <a href="../jenkins/basic.html">
            
                    
                    pipeline声明式基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2.6" data-path="../jenkins/pipeline.html">
            
                <a href="../jenkins/pipeline.html">
            
                    
                    piepline示例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2.7" data-path="../jenkins/jenkinsfile.html">
            
                <a href="../jenkins/jenkinsfile.html">
            
                    
                    Jenkinsfile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2.8" data-path="../jenkins/sharedlib.html">
            
                <a href="../jenkins/sharedlib.html">
            
                    
                    使用sharedlibrary进行构建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2.9" data-path="../jenkins/k8s.html">
            
                <a href="../jenkins/k8s.html">
            
                    
                    jenkins与k8s的集成配置
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12.3" >
            
                <span>
            
                    
                    gitlab CI
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.3.1" data-path="../gitlab/install.html">
            
                <a href="../gitlab/install.html">
            
                    
                    安装gitlab/runner
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3.2" data-path="../gitlab/basic.html">
            
                <a href="../gitlab/basic.html">
            
                    
                    pipeline基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3.3" data-path="../gitlab/pipeline.html">
            
                <a href="../gitlab/pipeline.html">
            
                    
                    runner流水线
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3.4" data-path="../gitlab/ci.html">
            
                <a href="../gitlab/ci.html">
            
                    
                    CI/CD
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3.5" data-path="../gitlab/k8s.html">
            
                <a href="../gitlab/k8s.html">
            
                    
                    关联k8s
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="../docker/dockerfile.html">
            
                <a href="../docker/dockerfile.html">
            
                    
                    Dockerfile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="../ci/case.md">
            
                <span>
            
                    
                    案例
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" >
            
                <span>
            
                    
                    CD
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../cd/new-app.html">
            
                <a href="../cd/new-app.html">
            
                    
                    应用的建立的基本方式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="../cd/policy.html">
            
                <a href="../cd/policy.html">
            
                    
                    部署策略
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="../cd/bluegreen.html">
            
                <a href="../cd/bluegreen.html">
            
                    
                    蓝绿
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4" data-path="../cd/ab.html">
            
                <a href="../cd/ab.html">
            
                    
                    金丝雀
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.5" data-path="../cd/jenkins-cd.html">
            
                <a href="../cd/jenkins-cd.html">
            
                    
                    使用Jenkins发布
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.6" data-path="../cd/argocd.html">
            
                <a href="../cd/argocd.html">
            
                    
                    使用argoCD
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" >
            
                <span>
            
                    
                    Helm
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="../helm/basic.html">
            
                <a href="../helm/basic.html">
            
                    
                    架构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="../helm/arch.html">
            
                <a href="../helm/arch.html">
            
                    
                    模板语法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="../helm/detail.html">
            
                <a href="../helm/detail.html">
            
                    
                    部署命令
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" >
            
                <span>
            
                    
                    operator
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="../operator/operator.html">
            
                <a href="../operator/operator.html">
            
                    
                    operator
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" >
            
                <span>
            
                    
                    API调用
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" >
            
                <span>
            
                    
                    Python Lib
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" >
            
                <span>
            
                    
                    基础安装
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../install/docker.html">
            
                <a href="../install/docker.html">
            
                    
                    阿里源替换,doker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../install/repo.md">
            
                <span>
            
                    
                    离线yum repo/httpd
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="../install/dns.html">
            
                <a href="../install/dns.html">
            
                    
                    dnsmasq
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="../install/ha.html">
            
                <a href="../install/ha.html">
            
                    
                    haproxy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.5" data-path="../install/keepalived.md">
            
                <span>
            
                    
                    keepalvied
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.6" data-path="../basic/registry.html">
            
                <a href="../basic/registry.html">
            
                    
                    registry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.7" >
            
                <span>
            
                    
                    [harbor]
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" >
            
                <span>
            
                    
                    安装
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="../install/single-1.19.html">
            
                <a href="../install/single-1.19.html">
            
                    
                    单master测试环境 
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="../install/ha.html">
            
                <a href="../install/ha.html">
            
                    
                    多master生产环境
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="../install/token.html">
            
                <a href="../install/token.html">
            
                    
                    kubeadm token/ca
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.4" >
            
                <span>
            
                    
                    离线安装
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.5" >
            
                <span>
            
                    
                    安装前的证书规划
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.6" >
            
                <span>
            
                    
                    1.21以上containered替换安装
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.7" >
            
                <span>
            
                    
                    Network
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.8" data-path="../install/metric.html">
            
                <a href="../install/metric.html">
            
                    
                    metric server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.9" data-path="../install/ingress.html">
            
                <a href="../install/ingress.html">
            
                    
                    nginx ingress controller
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.10" data-path="../install/dashboard.html">
            
                <a href="../install/dashboard.html">
            
                    
                    dashboard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.11" data-path="../install/monitor.html">
            
                <a href="../install/monitor.html">
            
                    
                    Prometheus/grafana
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.12" data-path="../install/nfs.html">
            
                <a href="../install/nfs.html">
            
                    
                    NFS storageclass
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.13" data-path="../install/efk.html">
            
                <a href="../install/efk.html">
            
                    
                    EFK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.14" data-path="../install/etcd.html">
            
                <a href="../install/etcd.html">
            
                    
                    ETCD
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" >
            
                <span>
            
                    
                    Day2配置
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="../day2/ntp.md">
            
                <span>
            
                    
                    ntp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" >
            
                <span>
            
                    
                    [basic user]
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3" >
            
                <span>
            
                    
                    [ladp/AD]
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" >
            
                <span>
            
                    
                    Upgrade
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="../upgrade/cluster.md">
            
                <span>
            
                    
                    离线升级集群
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2" data-path="../upgrade/ca.html">
            
                <a href="../upgrade/ca.html">
            
                    
                    证书更新
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.5" >
            
                <span>
            
                    
                    servicemesh
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.5.1" data-path="../istio/control.md">
            
                <span>
            
                    
                    安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.2" data-path="../istio/bookinfo.md">
            
                <span>
            
                    
                    bookinfo 演示
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >核心服务组件</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p>&#x67B6;&#x6784;&#x56FE;:</p>
<p><a href="https://kubernetes.io/zh-cn/docs/concepts/overview/components/" target="_blank">https://kubernetes.io/zh-cn/docs/concepts/overview/components/</a></p>
<p>&#x67E5;&#x770B;&#x96C6;&#x7FA4;&#x72B6;&#x6001;&#xFF1A;</p>
<pre><code># kubectl cluster-info
Kubernetes master is running at https://192.168.146.91:6443
KubeDNS is running at https://192.168.146.91:6443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy

To further debug and diagnose cluster problems, use &apos;kubectl cluster-info dump&apos;

# kubectl get cs #or componentstatus
Warning: v1 ComponentStatus is deprecated in v1.19+
NAME                 STATUS      MESSAGE                                                                                       ERROR
controller-manager   Unhealthy   Get &quot;http://127.0.0.1:10252/healthz&quot;: dial tcp 127.0.0.1:10252: connect: connection refused
scheduler            Unhealthy   Get &quot;http://127.0.0.1:10251/healthz&quot;: dial tcp 127.0.0.1:10251: connect: connection refused
etcd-0               Healthy     {&quot;health&quot;:&quot;true&quot;}
</code></pre><p>master: api, proxy scheduler</p>
<pre><code>docker ps|grep api
357e8a12a34f   72efb76839e7                                        &quot;kube-apiserver --ad&#x2026;&quot;   2 hours ago   Up 2 hours             k8s_kube-apiserver_kube-apiserver-kubernetes-master_kube-system_483018e842ec09512d
a92c0b096b66e3_10
202ca1ed1afc   registry.aliyuncs.com/google_containers/pause:3.2   &quot;/pause&quot;                 2 hours ago   Up 2 hours             k8s_POD_kube-apiserver-kubernetes-master_kube-system_483018e842ec09512da92c0b096b6
6e3_10

# docker ps |grep controller
9535eef934cf   f196e958af67                                        &quot;kube-controller-man&#x2026;&quot;   2 hours ago   Up 2 hours             k8s_kube-controller-manager_kube-controller-manager-kubernetes-master_kube-system_
062c848068a6bbb8b82922ce48f0a50b_12
88d28f144274   registry.aliyuncs.com/google_containers/pause:3.2   &quot;/pause&quot;                 2 hours ago   Up 2 hours             k8s_POD_kube-controller-manager-kubernetes-master_kube-system_062c848068a6bbb8b829
22ce48f0a50b_10


# docker ps|grep sche
08c50429e1cc   350a602e5310                                        &quot;kube-scheduler --au&#x2026;&quot;   2 hours ago   Up 2 hours             k8s_kube-scheduler_kube-scheduler-kubernetes-master_kube-system_c2620add3cc3961167
e561442295f42c_11
67c3aa52ec77   registry.aliyuncs.com/google_containers/pause:3.2   &quot;/pause&quot;                 2 hours ago   Up 2 hours             k8s_POD_kube-scheduler-kubernetes-master_kube-system_c2620add3cc3961167e561442295f
42c_10
</code></pre><p>node and master:</p>
<p>proxy</p>
<pre><code> docker ps |grep proxy
dced90dea173   70eeaa7791f2                                        &quot;./kube-rbac-proxy -&#x2026;&quot;   2 hours ago   Up 2 hours             k8s_kube-rbac-proxy_node-exporter-v7g4l_monitoring_b721bd62-b05c-4496-85f5-74fb7c3
7a34e_6
16e1a90f268d   6e5666d85a31                                        &quot;/usr/local/bin/kube&#x2026;&quot;   2 hours ago   Up 2 hours             k8s_kube-proxy_kube-proxy-sjwxp_kube-system_8ee24ddf-62c3-427b-bad0-12619c8f62b5_1
0
98cfe6f7c388   registry.aliyuncs.com/google_containers/pause:3.2   &quot;/pause&quot;                 2 hours ago   Up 2 hours             k8s_POD_kube-proxy-sjwxp_kube-system_8ee24ddf-62c3-427b-bad0-12619c8f62b5_10
</code></pre><p>kubelet</p>
<pre><code> systemctl status kubelet
&#x25CF; kubelet.service - kubelet: The Kubernetes Node Agent
   Loaded: loaded (/usr/lib/systemd/system/kubelet.service; enabled; vendor preset: disabled)
  Drop-In: /usr/lib/systemd/system/kubelet.service.d
           &#x2514;&#x2500;10-kubeadm.conf
   Active: active (running) since Mon 2022-02-14 19:55:38 CST; 1h 35min ago
     Docs: https://kubernetes.io/docs/
 Main PID: 973 (kubelet)
    Tasks: 20
   Memory: 144.6M
   CGroup: /system.slice/kubelet.service
           &#x2514;&#x2500;973 /usr/bin/kubelet --bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig=/etc/kubernetes/kubelet.conf --config=/var/lib/kubelet/config.yaml --network-plugin=cni --pod-infra...
</code></pre><p>etcd</p>
<pre><code># docker ps |grep etcd
ec8a75704dde   0369cf4303ff                                        &quot;etcd --advertise-cl&#x2026;&quot;   2 hours ago   Up 2 hours             k8s_etcd_etcd-kubernetes-master_kube-system_cf456611d0b61f2aaec72d0382b7d7aa_10   
68f71a8a7738   registry.aliyuncs.com/google_containers/pause:3.2   &quot;/pause&quot;                 2 hours ago   Up 2 hours             k8s_POD_etcd-kubernetes-master_kube-system_cf456611d0b61f2aaec72d0382b7d7aa_10
</code></pre><p>&#x67E5;&#x770B;&#x6240;&#x6709;api object:</p>
<pre><code>kubectl api-resources

NAME                              SHORTNAMES   APIGROUP                       NAMESPACED   KIND
bindings                                                                      true         Binding
componentstatuses                 cs                                          false        ComponentStatus
configmaps                        cm                                          true         ConfigMap
endpoints                         ep                                          true         Endpoints
events                            ev                                          true         Event
limitranges                       limits                                      true         LimitRange
namespaces                        ns                                          false        Namespace
nodes                             no                                          false        Node
persistentvolumeclaims            pvc                                         true         PersistentVolumeClaim
persistentvolumes                 pv                                          false        PersistentVolume
pods                              po                                          true         Pod
podtemplates                                                                  true         PodTemplate
replicationcontrollers            rc                                          true         ReplicationController
resourcequotas                    quota                                       true         ResourceQuota
pods                                           metrics.k8s.io                 true         PodMetrics
alertmanagers                                  monitoring.coreos.com          true         Alertmanager
podmonitors                                    monitoring.coreos.com          true         PodMonitor
prometheuses                                   monitoring.coreos.com          true         Prometheus
prometheusrules                                monitoring.coreos.com          true         PrometheusRule
servicemonitors                                monitoring.coreos.com          true         ServiceMonitor
thanosrulers                                   monitoring.coreos.com          true         ThanosRuler
ingressclasses                                 networking.k8s.io              false        IngressClass
ingresses                         ing          networking.k8s.io              true         Ingress
networkpolicies                   netpol       networking.k8s.io              true         NetworkPolicy
runtimeclasses                                 node.k8s.io                    false        RuntimeClass
poddisruptionbudgets              pdb          policy                         true         PodDisruptionBudget
podsecuritypolicies               psp          policy                         false        PodSecurityPolicy
clusterrolebindings                            rbac.authorization.k8s.io      false        ClusterRoleBinding
clusterroles                                   rbac.authorization.k8s.io      false        ClusterRole
rolebindings                                   rbac.authorization.k8s.io      true         RoleBinding
roles                                          rbac.authorization.k8s.io      true         Role
priorityclasses                   pc           scheduling.k8s.io              false        PriorityClass
csidrivers                                     storage.k8s.io                 false        CSIDriver
csinodes                                       storage.k8s.io                 false        CSINode
storageclasses                    sc           storage.k8s.io                 false        StorageClass
volumeattachments                              storage.k8s.io                 false        VolumeAttachment
</code></pre><p>kubectl auto complete  <a href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/" target="_blank">https://kubernetes.io/docs/reference/kubectl/cheatsheet/</a></p>
<pre><code>source &lt;(kubectl completion bash) # setup autocomplete in bash into the current shell, bash-completion package should be installed first.
echo &quot;source &lt;(kubectl completion bash)&quot; &gt;&gt; ~/.bashrc
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="api.html" class="navigation navigation-prev " aria-label="Previous page: API">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="network.html" class="navigation navigation-next " aria-label="Next page: 网络">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"核心服务组件","level":"1.4.4","depth":2,"next":{"title":"网络","level":"1.4.5","depth":2,"path":"config/network.md","ref":"config/network.md","articles":[]},"previous":{"title":"API","level":"1.4.3","depth":2,"path":"config/api.md","ref":"config/api.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["splitter","expandable-chapters","livereload"],"pluginsConfig":{"livereload":{},"splitter":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/style.css"}},"file":{"path":"config/component.md","mtime":"2022-11-15T08:12:45.348Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2022-11-16T07:54:56.792Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

